
    <Page
    x:Class="eComBox.Views.translatorPage"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" muxc:BackdropMaterial.ApplyToRootOrPageBackground="True"
   xmlns:animations="using:CommunityToolkit.WinUI.Animations"
  mc:Ignorable="d">
    
    <ScrollViewer>
        <Grid Margin="24,10,24,16">
            <StackPanel
            x:Name="ContentArea"
            MaxWidth="1000"
            HorizontalAlignment="Stretch"
            Spacing="10">
                <Grid>
                    
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MinWidth="100"/>
                        <ColumnDefinition MinWidth="200"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <muxc:InfoBar
                        IsOpen="True"
                        x:Name="statusBar"
                        Severity="Success"
                        x:Uid="Translator_StatusBar"
                        Margin="5"
                        Grid.ColumnSpan="3"/>
                    <TextBlock Grid.Row="1" Margin="5" x:Uid="Translator_SourceLanguage" FontSize="18" Grid.Column="0"/>
                    <ComboBox Grid.Row="1" x:Name="sourceLanguageComboBox" Margin="5" MinWidth="190" FontSize="18" Grid.Column="1" />
                    <Pivot Grid.Row="2" Grid.ColumnSpan="4" Grid.Column="0" Grid.RowSpan="3">
                        <PivotItem x:Uid="Translator_PivotItem1">
                            <Grid Margin="0,20,0,10">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition MinWidth="100"/>
                                    <ColumnDefinition MinWidth="200"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                


                                <TextBlock Margin="5" Grid.Row="1" x:Uid="Translator_TargetLanguage" FontSize="18" Grid.Column="0"/>

                                <ComboBox x:Name="targetLanguageComboBox" Margin="5" MinWidth="190" Grid.Row="1" FontSize="18" Grid.Column="1" />
                            </Grid>
                        </PivotItem>
                        <PivotItem x:Uid="Translator_PivotItem2">
                            <Grid Margin="0,20,0,10">
                                <StackPanel Orientation="Vertical" Spacing="10">
                                    <muxc:Expander x:Uid="Translator_SequenceSettings" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsExpanded="True">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock x:Uid="Translator_TranslationOrder" Margin="5,10,5,5" FontSize="16" FontWeight="SemiBold" Grid.Row="0"/>

                                            <ItemsControl Grid.Row="1" x:Name="TranslationSequencePanel">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <VariableSizedWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="5"/>
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border BorderThickness="1" BorderBrush="{ThemeResource SystemControlBackgroundBaseLowBrush}" 
                    Margin="5" Padding="3" CornerRadius="3">
                                                            <StackPanel Width="170">
                                                                <TextBlock x:Uid="Translator_Step" FontSize="12" Margin="0,0,0,3">
                                                                    <Run Text="{Binding Index}"/>
                                                                </TextBlock>
                                                                <ComboBox Width="160" ItemsSource="{Binding LanguageOptions}" 
      SelectedItem="{Binding SelectedLanguage, Mode=TwoWay}"
      DisplayMemberPath="Content" Tag="{Binding Index}"/>
                                                            </StackPanel>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </Grid>
                                    </muxc:Expander>

                                    <!-- 翻译历史记录 -->
                                    <muxc:Expander x:Uid="Translator_History" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                                        <TextBox x:Name="translationHistoryBox" IsReadOnly="True" TextWrapping="Wrap" AcceptsReturn="True" 
                     MinHeight="150" MaxHeight="300"/>
                                    </muxc:Expander>
                                </StackPanel>
                            </Grid>
                        </PivotItem>
                    </Pivot>
                    <TextBlock Margin="5" Grid.Row="5" x:Uid="Translator_InputContent" FontSize="18" Grid.Column="0"/>
                    <TextBox x:Name="ContentBox" TextChanged="ContentBox_TextChanged" AcceptsReturn="True" Grid.ColumnSpan="3" Margin="5" Grid.Row="6" FontSize="18" Grid.Column="0" TextWrapping="Wrap" />

                    <StackPanel Orientation="Horizontal" Margin="5,10,5,30" Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="3" Spacing="20">
                        <Button x:Name="translateButton" x:Uid="Translator_TranslateButton" MinWidth="150" FontSize="18" Click="translateButton_Click" Style="{ThemeResource AccentButtonStyle}"/>
                        <Button x:Name="sequenceTranslateButton" x:Uid="Translator_SequenceButton" MinWidth="150" FontSize="18" Click="sequenceTranslateButton_Click" Style="{ThemeResource AccentButtonStyle}"/>
                        <Button x:Name="reverseTranslateButton" MinWidth="150" x:Uid="Translator_ReverseButton" FontSize="18" Click="reverseTranslateButton_Click" Visibility="Collapsed"/>
                    </StackPanel>

                    <TextBlock Margin="5" Grid.Row="8" Grid.Column="0" Grid.ColumnSpan="2" x:Uid="Translator_OutputContent" FontSize="18"/>
                    <muxc:ProgressBar x:Name="translationProgressBar" Grid.Row="8" Grid.Column="2" Margin="5" HorizontalAlignment="Stretch" Visibility="Collapsed" IsIndeterminate="True"/>

                    <TextBox IsReadOnly="True" Grid.ColumnSpan="3" MinWidth="200" x:Name="outputBox" FontSize="18" Grid.Row="9" TextWrapping="Wrap"/>
                </Grid>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>
